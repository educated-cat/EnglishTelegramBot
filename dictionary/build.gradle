plugins {
	id("org.springframework.boot").version("${springBootVersion}")
	id("io.spring.dependency-management").version("${springDependencyManagementVersion}")
	id("java")
}

group = "com.educatedcat.englishtelegrambot"
version = "0.0.1-SNAPSHOT"
sourceCompatibility = "17"

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}

repositories {
	mavenCentral()
}

configurations.all {
	exclude group: "org.apache.logging.log4j"
}

dependencies {
	/* Spring Boot */
	implementation("org.springframework.boot:spring-boot-starter-data-jpa")
	implementation("org.springframework.boot:spring-boot-starter-web")
	
	/* Datasource */
	implementation("org.liquibase:liquibase-core")
	implementation("mysql:mysql-connector-java")
	
	/* Utils */
	compileOnly("org.projectlombok:lombok")
	annotationProcessor("org.projectlombok:lombok")
	
	/* Test */
	testImplementation("org.springframework.boot:spring-boot-starter-test")
	testImplementation("org.xerial:sqlite-jdbc")
	testCompileOnly("org.projectlombok:lombok")
	testAnnotationProcessor("org.projectlombok:lombok")
}

test {
	testLogging {
		events "PASSED", "SKIPPED", "FAILED", "STANDARD_OUT", "STANDARD_ERROR"
	}
}

tasks.named("test") {
	useJUnitPlatform()
}
